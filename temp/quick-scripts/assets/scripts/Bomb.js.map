{"version":3,"sources":["Bomb.js"],"names":["Orange","require","cc","Class","extends","Component","properties","orange","default","type","restartBtn","Prefab","restartLabel","onCollisionEnter","other","self","Global","explosionAnimation","node","destroy","gameEnd","onLoad","moveleftway","moveFood","runAction","moveleft","moveBy","v2","repeatForever","start","_timer","update","dt","pos","getPosition","stopMoveAt","x","setPosition","y","stopAllActions"],"mappings":";;;;;;AAAA,IAAMA,SAASC,QAAQ,SAAR,CAAf;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;;AAERC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMT;AAFF,SAFA;;AAORU,oBAAW;AACPF,qBAAQ,IADD;AAEPC,kBAAMP,GAAGS;AAFF,SAPH;;AAYRC,sBAAa;AACTJ,qBAAQ,IADC;AAETC,kBAAMP,GAAGS;AAFA;AAZL,KAHP;;AAuBLE,sBAAkB,0BAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACrCC,eAAOC,kBAAP,GAA4B,CAA5B;AACA,aAAKC,IAAL,CAAUC,OAAV;AACAH,eAAOI,OAAP,GAAiB,CAAjB;AAEH,KA5BI;;AA8BLC,YAAQ,kBAAW;;AAEf;AACA;AACA;;;AAGA,YAAIC,cAAc,KAAKC,QAAL,EAAlB;AACA,aAAKL,IAAL,CAAUM,SAAV,CAAoBF,WAApB;AAEH,KAxCI;;AA0CLC,cAAU,oBAAU;;AAEhB,YAAIE,WAAYvB,GAAGwB,MAAH,CAAU,CAAV,EAAaxB,GAAGyB,EAAH,CAAM,CAAC,GAAP,EAAW,CAAX,CAAb,CAAhB;AACA,eAAOzB,GAAG0B,aAAH,CAAiBH,QAAjB,CAAP;AAEH,KA/CI;;AAkDLI,WAAO,iBAAY;AACf,aAAKC,MAAL,GAAc,GAAd;AACD,KApDE;;AAsDHC,YAAQ,gBAAUC,EAAV,EAAc;AACpB,aAAKF,MAAL,IAAeE,EAAf;AACA,YAAIC,MAAM,CAAV;AACA,YAAK,KAAKH,MAAL,IAAe,GAApB,EAA0B;AACtBG,kBAAM,KAAKf,IAAL,CAAUgB,WAAV,EAAN;AACA;AACA,gBAAGlB,OAAOI,OAAP,IAAkB,CAArB,EAAuB;AACnB,qBAAKe,UAAL;AACH,aAFD,MAIK,IAAIF,IAAIG,CAAJ,IAAS,CAAC,GAAd,EAAkB;AACnB;AACA,qBAAKlB,IAAL,CAAUmB,WAAV,CAAsB,GAAtB,EAA0BJ,IAAIK,CAA9B;AACA;;AAGH;AAEJ;AAIF,KA5EE;;AA8ELH,gBAAY,sBAAY;AACpB,aAAKjB,IAAL,CAAUqB,cAAV;AACH;;AAhFI,CAAT","file":"Bomb.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["const Orange = require('Orange2');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    \r\n    properties: {\r\n\r\n        orange: {\r\n            default: null,\r\n            type: Orange\r\n        },\r\n\r\n        restartBtn:{\r\n            default:null,\r\n            type: cc.Prefab\r\n        },\r\n\r\n        restartLabel:{\r\n            default:null,\r\n            type: cc.Prefab\r\n        },\r\n    },\r\n\r\n\r\n\r\n    onCollisionEnter: function (other, self) {\r\n        Global.explosionAnimation = 2;\r\n        this.node.destroy();\r\n        Global.gameEnd = 1;\r\n        \r\n    },\r\n\r\n    onLoad: function() {\r\n       \r\n        // cc.director.getCollisionManager().enabled = true;\r\n        // var actionBy = this.rotateFood();\r\n        // this.node.runAction(actionBy);\r\n\r\n\r\n        var moveleftway = this.moveFood();\r\n        this.node.runAction(moveleftway);\r\n\r\n    },\r\n\r\n    moveFood: function(){\r\n\r\n        var moveleft =  cc.moveBy(4, cc.v2(-800,0));\r\n        return cc.repeatForever(moveleft);\r\n\r\n    },\r\n\r\n\r\n    start: function () {\r\n        this._timer = 0.0;\r\n      },\r\n    \r\n      update: function (dt) {\r\n        this._timer += dt;\r\n        var pos = 0\r\n        if ( this._timer >= 0.0 ) {\r\n            pos = this.node.getPosition();\r\n            // console.log(pos + \" finding position\")\r\n            if(Global.gameEnd == 1){\r\n                this.stopMoveAt();\r\n            }\r\n\r\n            else if( pos.x <= -600){\r\n                // console.log(pos + \"before reset position\")\r\n                this.node.setPosition(300,pos.y)\r\n                // console.log(this.node.getPosition()+ \"after reset position\")\r\n\r\n                \r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n      },\r\n\r\n    stopMoveAt: function () {\r\n        this.node.stopAllActions();\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n});\r\n"]}