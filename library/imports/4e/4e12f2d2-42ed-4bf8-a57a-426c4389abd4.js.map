{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Game.js"],"names":["Player","require","Star","Spear","Game","cc","Class","extends","Component","properties","player","default","type","spear","SpearNode","Node","onLoad","Global","gameover","node","on","EventType","TOUCH_START","console","log","reset","holdMoveAt","TOUCH_MOVE","TOUCH_END","startMoveAt","resetCount","stopMoveAt","goDownAt","TOUCH_CANCEL","enabled","score","starPool","NodePool","ApplePool","OrangePool","intervalSetting","count","onStartGame","btnNode","x","GameOver","active"],"mappings":";;;;;;AACA,IAAMA,SAASC,QAAQ,QAAR,CAAf;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,QAAQF,QAAQ,OAAR,CAAd;AACA,IAAIG,OAAOC,GAAGC,KAAH,CAAS;AAChBC,aAASF,GAAGG,SADI;;AAGhBC,gBAAY;AACR;AACA;AACAC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMZ;AAFF,SAHA;AAORa,eAAO;AACHF,qBAAS,IADN;AAEHC,kBAAMT;AAFH,SAPC;AAWRW,mBAAW;AACPH,qBAAS,IADF;AAEPC,kBAAMP,GAAGU;AAFF;;AAXH,KAHI;;AAsBhBC,YAAQ,kBAAY;AAAA;;AAEhBC,eAAOC,QAAP,GAAkB,CAAlB;;AAIA,aAAKC,IAAL,CAAUC,EAAV,CAAaf,GAAGU,IAAH,CAAQM,SAAR,CAAkBC,WAA/B,EAA4C,YAAM;AAC9CC,oBAAQC,GAAR,CAAY,aAAZ;AACAP,mBAAOQ,KAAP,GAAe,CAAf;;AAEA,kBAAKZ,KAAL,CAAWa,UAAX;AAMH,SAVD,EAUG,IAVH,EAUS,IAVT;;AAYA,aAAKP,IAAL,CAAUC,EAAV,CAAaf,GAAGU,IAAH,CAAQM,SAAR,CAAkBM,UAA/B,EAA2C,YAAM;AAC7CJ,oBAAQC,GAAR,CAAY,YAAZ;AAGH,SAJD,EAIG,IAJH,EAIS,IAJT;;AAMA,aAAKL,IAAL,CAAUC,EAAV,CAAaf,GAAGU,IAAH,CAAQM,SAAR,CAAkBO,SAA/B,EAA0C,YAAM;AAC5CL,oBAAQC,GAAR,CAAY,WAAZ;AACA,kBAAKX,KAAL,CAAWgB,WAAX;AACA,kBAAKhB,KAAL,CAAWiB,UAAX;AACA,kBAAKjB,KAAL,CAAWkB,UAAX;AACA,kBAAKlB,KAAL,CAAWmB,QAAX;AAEH,SAPD,EAOG,IAPH,EAOS,IAPT;;AASA,aAAKb,IAAL,CAAUC,EAAV,CAAaf,GAAGU,IAAH,CAAQM,SAAR,CAAkBY,YAA/B,EAA6C,YAAM;AAC/CV,oBAAQC,GAAR,CAAY,cAAZ;AACA,kBAAKX,KAAL,CAAWiB,UAAX;AACH,SAHD,EAGG,IAHH,EAGS,IAHT;;AAMA,aAAKI,OAAL,GAAa,KAAb;AACA;AACA,aAAKC,KAAL,GAAa,CAAb;AACA,aAAKtB,KAAL,CAAWqB,OAAX,GAAqB,IAArB;;AAEA;AACA,aAAKE,QAAL,GAAgB,IAAI/B,GAAGgC,QAAP,CAAgB,MAAhB,CAAhB;AACA,aAAKC,SAAL,GAAiB,IAAIjC,GAAGgC,QAAP,CAAgB,OAAhB,CAAjB;AACA,aAAKE,UAAL,GAAkB,IAAIlC,GAAGgC,QAAP,CAAgB,QAAhB,CAAlB;AACH,KAtEe;;AAwEhBG,qBAAiB,2BAAW;;AAGxBvB,eAAOwB,KAAP,IAAgB,CAAhB;AACAxB,eAAOQ,KAAP,GAAe,CAAf;AACA,eAAOR,OAAOwB,KAAd;AAEP,KA/EmB;;AAiFhBX,gBAAY,sBAAU;AAClBb,eAAOwB,KAAP,GAAe,CAAf;AACAxB,eAAOQ,KAAP,GAAe,CAAf;;AAEA,eAAOR,OAAOQ,KAAd;AAGH,KAxFe;;AA2FhBiB,iBAAa,uBAAU;;AAEnB,aAAKR,OAAL,GAAa,IAAb;;AAEA,aAAKS,OAAL,CAAaC,CAAb,GAAiB,IAAjB;AACA,aAAKC,QAAL,CAAcC,MAAd,GAAuB,KAAvB;AAIH;;AApGe,CAAT,CAAX","file":"Game.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["\nconst Player = require('Player');\nconst Star = require('Star');\nconst Spear = require('Spear');\nvar Game = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 这个属性引用了星星预制资源\n        // player 节点，用于获取主角弹跳的高度，和控制主角行动开关\n        player: {\n            default: null,\n            type: Player\n        },\n        spear: {\n            default: null,\n            type: Spear\n        },\n        SpearNode: {\n            default: null,\n            type: cc.Node\n        },\n\n\n    },\n\n    onLoad: function () {\n\n        Global.gameover = 0;\n\n    \n\n        this.node.on(cc.Node.EventType.TOUCH_START, () => { \n            console.log(\"TOUCH_START\")\n            Global.reset = 0;\n\n            this.spear.holdMoveAt();\n            \n\n            \n\n\n        }, this, true);\n\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, () => {\n            console.log(\"TOUCH_MOVE\");\n            \n\n        }, this, true);\n\n        this.node.on(cc.Node.EventType.TOUCH_END, () => {\n            console.log(\"TOUCH_END\");\n            this.spear.startMoveAt();\n            this.spear.resetCount();\n            this.spear.stopMoveAt();\n            this.spear.goDownAt();\n\n        }, this, true);\n\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, () => {\n            console.log(\"TOUCH_CANCEL\");\n            this.spear.resetCount();\n        }, this, true);\n\n\n        this.enabled=false;\n        // 初始化计分\n        this.score = 0;\n        this.spear.enabled = true;\n\n        // initialize star and score pool\n        this.starPool = new cc.NodePool('Star');\n        this.ApplePool = new cc.NodePool('Apple');\n        this.OrangePool = new cc.NodePool('Orange');\n    },\n\n    intervalSetting: function() {\n  \n      \n        Global.count += 1;\n        Global.reset = 0;\n        return Global.count;\n    \n},\n\n    resetCount: function(){\n        Global.count = 0;\n        Global.reset = 1;\n\n        return Global.reset; \n\n\n    },\n\n\n    onStartGame: function(){\n\n        this.enabled=true\n\n        this.btnNode.x = 3000;\n        this.GameOver.active = false;\n\n\n        \n    },\n\n  \n\n\n    \n\n\n\n});"]}