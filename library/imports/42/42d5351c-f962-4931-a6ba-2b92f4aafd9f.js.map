{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Egg.js"],"names":["cc","Class","extends","Component","properties","onLoad","director","getCollisionManager","enabled","actionBy","rotateFood","node","runAction","sactionBy","rotateBy","repeatForever","realign","anchorX","anchorY","onCollisionEnter","other","self","console","log","stopAllActions","Global","arrayfood","length","slice","hasConsecutive","y","push","setPosition","arr","amount","last","currentNode","count","i","eggfirst","waterfirst","watersecond","waterthird","eggsecond","eggthird","pop","destroy"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAOL;;AAEA;AACAC,YAAQ,kBAAW;;AAEfL,WAAGM,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACA,YAAIC,WAAW,KAAKC,UAAL,EAAf;AACA,aAAKC,IAAL,CAAUC,SAAV,CAAoBH,QAApB;AAEH,KAhBI;;AAkBLC,gBAAW,sBAAU;AACjB,YAAIG,YAAYb,GAAGc,QAAH,CAAY,CAAZ,EAAc,EAAd,CAAhB;AACA,eAAOd,GAAGe,aAAH,CAAiBF,SAAjB,CAAP;AAEH,KAtBI;;AAwBLG,aAAQ,mBAAU;AAChB,aAAKL,IAAL,CAAUM,OAAV,GAAoB,GAApB;AACA,aAAKN,IAAL,CAAUO,OAAV,GAAoB,GAApB;AACD,KA3BI;;AA8BLC,sBAAiB,0BAASC,KAAT,EAAeC,IAAf,EAAoB;AACjCC,gBAAQC,GAAR,CAAY,KAAZ;AACA,aAAKZ,IAAL,CAAUa,cAAV;;AAEA,YAAGC,OAAOC,SAAP,CAAiBC,MAAjB,IAA2B,CAA9B,EAAgC;AAC5BF,mBAAOC,SAAP,CAAiBE,KAAjB,CAAuB,CAAvB,EAAyB,CAAzB;AACAN,oBAAQC,GAAR,CAAYE,OAAOC,SAAnB;AACAJ,oBAAQC,GAAR,CAAY,KAAKM,cAAL,CAAoBJ,OAAOC,SAA3B,EAAqC,CAArC,CAAZ;AAGH,SAND,MAOK,IAAGD,OAAOC,SAAP,CAAiBC,MAAjB,IAA2B,CAA3B,IAAgC,KAAKhB,IAAL,CAAUmB,CAAV,GAAc,GAAjD,EAAqD;AACtDL,mBAAOC,SAAP,CAAiBK,IAAjB,CAAsB,KAAtB;AACAT,oBAAQC,GAAR,CAAYE,OAAOC,SAAnB;AACA,iBAAKV,OAAL;AACA,iBAAKL,IAAL,CAAUqB,WAAV,CAAsB,EAAtB,EAAyB,CAAC,GAA1B;AACAV,oBAAQC,GAAR,CAAY,KAAKM,cAAL,CAAoBJ,OAAOC,SAA3B,EAAqC,CAArC,CAAZ;AACH,SANI,MAOA,IAAGD,OAAOC,SAAP,CAAiBC,MAAjB,IAA2B,CAA3B,IAAgC,KAAKhB,IAAL,CAAUmB,CAAV,GAAc,GAAjD,EAAqD;AACtDL,mBAAOC,SAAP,CAAiBK,IAAjB,CAAsB,KAAtB;AACAT,oBAAQC,GAAR,CAAYE,OAAOC,SAAnB;AACA,iBAAKV,OAAL;AACA,iBAAKL,IAAL,CAAUqB,WAAV,CAAsB,EAAtB,EAAyB,CAAC,GAA1B;AACAV,oBAAQC,GAAR,CAAY,KAAKM,cAAL,CAAoBJ,OAAOC,SAA3B,EAAqC,CAArC,CAAZ;AACH,SANI,MAOA,IAAGD,OAAOC,SAAP,CAAiBC,MAAjB,IAA2B,CAA3B,IAAgC,KAAKhB,IAAL,CAAUmB,CAAV,GAAc,GAAjD,EAAqD;AACtDL,mBAAOC,SAAP,CAAiBK,IAAjB,CAAsB,KAAtB;AACAT,oBAAQC,GAAR,CAAYE,OAAOC,SAAnB;AACA,iBAAKV,OAAL;AACA,iBAAKL,IAAL,CAAUqB,WAAV,CAAsB,EAAtB,EAAyB,CAAC,GAA1B;AACAV,oBAAQC,GAAR,CAAY,KAAKM,cAAL,CAAoBJ,OAAOC,SAA3B,EAAqC,CAArC,CAAZ;AACH,SANI,MAOA,IAAGD,OAAOC,SAAP,CAAiBC,MAAjB,IAA2B,CAA3B,IAAgC,KAAKhB,IAAL,CAAUmB,CAAV,GAAc,GAAjD,EAAqD;AACtDL,mBAAOC,SAAP,CAAiBK,IAAjB,CAAsB,KAAtB;AACAT,oBAAQC,GAAR,CAAYE,OAAOC,SAAnB;AACA,iBAAKV,OAAL;AACA,iBAAKL,IAAL,CAAUqB,WAAV,CAAsB,EAAtB,EAAyB,CAAC,GAA1B;AACAV,oBAAQC,GAAR,CAAY,KAAKM,cAAL,CAAoBJ,OAAOC,SAA3B,EAAqC,CAArC,CAAZ;AACH,SANI,MAOA,IAAGD,OAAOC,SAAP,CAAiBC,MAAjB,IAA2B,CAA3B,IAAgC,KAAKhB,IAAL,CAAUmB,CAAV,GAAc,GAAjD,EAAqD;AACtDL,mBAAOC,SAAP,CAAiBK,IAAjB,CAAsB,KAAtB;AACAT,oBAAQC,GAAR,CAAYE,OAAOC,SAAnB;AACA,iBAAKV,OAAL;AACA,iBAAKL,IAAL,CAAUqB,WAAV,CAAsB,EAAtB,EAAyB,CAAC,GAA1B;AACAV,oBAAQC,GAAR,CAAY,KAAKM,cAAL,CAAoBJ,OAAOC,SAA3B,EAAqC,CAArC,CAAZ;AACH,SANI,MAOA,IAAGD,OAAOC,SAAP,CAAiBC,MAAjB,IAA2B,CAA3B,IAAgC,KAAKhB,IAAL,CAAUmB,CAAV,GAAc,GAAjD,EAAqD;AACtDL,mBAAOC,SAAP,CAAiBK,IAAjB,CAAsB,KAAtB;AACAT,oBAAQC,GAAR,CAAYE,OAAOC,SAAnB;AACA,iBAAKV,OAAL;AACA,iBAAKL,IAAL,CAAUqB,WAAV,CAAsB,EAAtB,EAAyB,CAAC,GAA1B;AACAV,oBAAQC,GAAR,CAAY,KAAKM,cAAL,CAAoBJ,OAAOC,SAA3B,EAAqC,CAArC,CAAZ;AACH;AAKJ,KAvFI;;AAyFJG,oBAAe,wBAASI,GAAT,EAAcC,MAAd,EAAsB;AAClC,YAAIC,OAAO,IAAX;AACA,YAAIC,cAAc,KAAKzB,IAAvB;AACA,YAAI0B,QAAQ,CAAZ;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIL,IAAIN,MAAxB,EAAgCW,GAAhC,EAAqC;AACjC,gBAAIL,IAAIK,CAAJ,KAAUH,IAAd,EAAoB;AAChBA,uBAAOF,IAAIK,CAAJ,CAAP;AACAD,wBAAQ,CAAR;AACAf,wBAAQC,GAAR,CAAYU,IAAIK,CAAJ,IAAO,aAAnB;AACAhB,wBAAQC,GAAR,CAAYY,OAAK,aAAjB;;AAEAb,wBAAQC,GAAR,CAAY,kBAAZ;AAGH;;AAEDD,oBAAQC,GAAR,CAAY,+BAA6Bc,KAAzC;;AAEAA,qBAAQ,CAAR;;AAEAf,oBAAQC,GAAR,CAAY,8BAA4Bc,KAAxC;;AAGA,gBAAGJ,IAAIK,CAAJ,KAASH,IAAT,IAAiBE,SAAS,CAA1B,IAA+BZ,OAAOc,QAAP,IAAmB,IAArD,EAA0D;;AAEtDd,uBAAOc,QAAP,GAAkBH,WAAlB;AACAd,wBAAQC,GAAR,CAAYE,OAAOe,UAAP,GAAkB,kBAA9B;AACAlB,wBAAQC,GAAR,CAAYE,OAAOgB,WAAP,GAAmB,kBAA/B;AACAnB,wBAAQC,GAAR,CAAYE,OAAOiB,UAAP,GAAkB,kBAA9B;AACApB,wBAAQC,GAAR,CAAYE,OAAOc,QAAP,GAAgB,oBAA5B;AACAjB,wBAAQC,GAAR,CAAYE,OAAOkB,SAAP,GAAiB,oBAA7B;AACArB,wBAAQC,GAAR,CAAYE,OAAOmB,QAAP,GAAgB,oBAA5B;AAEH;;AAGD,gBAAGX,IAAIK,CAAJ,KAASH,IAAT,IAAiBE,SAAS,CAA1B,IAA+BZ,OAAOkB,SAAP,IAAoB,IAAtD,EAA2D;;AAEvDlB,uBAAOkB,SAAP,GAAmBP,WAAnB;AACAd,wBAAQC,GAAR,CAAYE,OAAOe,UAAP,GAAkB,kBAA9B;AACAlB,wBAAQC,GAAR,CAAYE,OAAOgB,WAAP,GAAmB,kBAA/B;AACAnB,wBAAQC,GAAR,CAAYE,OAAOiB,UAAP,GAAkB,kBAA9B;AACApB,wBAAQC,GAAR,CAAYE,OAAOc,QAAP,GAAgB,oBAA5B;AACAjB,wBAAQC,GAAR,CAAYE,OAAOkB,SAAP,GAAiB,oBAA7B;AACArB,wBAAQC,GAAR,CAAYE,OAAOmB,QAAP,GAAgB,oBAA5B;AAIH;AACD,gBAAGX,IAAIK,CAAJ,KAASH,IAAT,IAAiBE,SAAS,CAA1B,IAA+BZ,OAAOmB,QAAP,IAAmB,IAArD,EAA0D;AACtDnB,uBAAOmB,QAAP,GAAkBR,WAAlB;AACAd,wBAAQC,GAAR,CAAYE,OAAOe,UAAP,GAAkB,kBAA9B;AACAlB,wBAAQC,GAAR,CAAYE,OAAOgB,WAAP,GAAmB,kBAA/B;AACAnB,wBAAQC,GAAR,CAAYE,OAAOiB,UAAP,GAAkB,kBAA9B;AACApB,wBAAQC,GAAR,CAAYE,OAAOc,QAAP,GAAgB,oBAA5B;AACAjB,wBAAQC,GAAR,CAAYE,OAAOkB,SAAP,GAAiB,oBAA7B;AACArB,wBAAQC,GAAR,CAAYE,OAAOmB,QAAP,GAAgB,oBAA5B;AAEH;;AAKDtB,oBAAQC,GAAR,CAAY,uBAAZ,EAAqCW,MAArC,EAA6CG,KAA7C;AACA,gBAAIH,UAAUG,KAAd,EAAqB;AACjBZ,uBAAOC,SAAP,CAAiBmB,GAAjB;AACApB,uBAAOC,SAAP,CAAiBmB,GAAjB;AACApB,uBAAOC,SAAP,CAAiBmB,GAAjB;AACApB,uBAAOc,QAAP,CAAgBO,OAAhB;AACArB,uBAAOkB,SAAP,CAAiBG,OAAjB;AACArB,uBAAOmB,QAAP,CAAgBE,OAAhB;;AAEArB,uBAAOc,QAAP,GAAkB,IAAlB;AACAd,uBAAOkB,SAAP,GAAmB,IAAnB;AACAlB,uBAAOmB,QAAP,GAAkB,IAAlB;;AAIAtB,wBAAQC,GAAR,CAAY,2BAAZ,EAAyCE,OAAOC,SAAhD;AACA,uBAAO,IAAP;AAEH;AACJ;AACD,eAAO,KAAP;AACH;;AAMD;AAnLK,CAAT","file":"Egg.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    onLoad: function() {\r\n       \r\n        cc.director.getCollisionManager().enabled = true;\r\n        var actionBy = this.rotateFood();\r\n        this.node.runAction(actionBy);\r\n\r\n    },\r\n\r\n    rotateFood:function(){\r\n        var sactionBy = cc.rotateBy(1,90);\r\n        return cc.repeatForever(sactionBy);\r\n\r\n    },\r\n\r\n    realign:function(){\r\n      this.node.anchorX = 0.5\r\n      this.node.anchorY = 0.5  \r\n    },\r\n\r\n\r\n    onCollisionEnter:function(other,self){\r\n        console.log('hit');\r\n        this.node.stopAllActions();\r\n        \r\n        if(Global.arrayfood.length == 6){\r\n            Global.arrayfood.slice(0,5)\r\n            console.log(Global.arrayfood);\r\n            console.log(this.hasConsecutive(Global.arrayfood,3));\r\n\r\n            \r\n        }\r\n        else if(Global.arrayfood.length == 0 && this.node.y > 100){\r\n            Global.arrayfood.push(\"Egg\");\r\n            console.log(Global.arrayfood);\r\n            this.realign();\r\n            this.node.setPosition(19,-350)\r\n            console.log(this.hasConsecutive(Global.arrayfood,3));\r\n        }\r\n        else if(Global.arrayfood.length == 1 && this.node.y > 100){\r\n            Global.arrayfood.push(\"Egg\");\r\n            console.log(Global.arrayfood);\r\n            this.realign();\r\n            this.node.setPosition(19,-300)\r\n            console.log(this.hasConsecutive(Global.arrayfood,3));\r\n        }\r\n        else if(Global.arrayfood.length == 2 && this.node.y > 100){\r\n            Global.arrayfood.push(\"Egg\");\r\n            console.log(Global.arrayfood);\r\n            this.realign();\r\n            this.node.setPosition(19,-250)\r\n            console.log(this.hasConsecutive(Global.arrayfood,3));\r\n        }\r\n        else if(Global.arrayfood.length == 3 && this.node.y > 100){\r\n            Global.arrayfood.push(\"Egg\");\r\n            console.log(Global.arrayfood);\r\n            this.realign();\r\n            this.node.setPosition(19,-200)\r\n            console.log(this.hasConsecutive(Global.arrayfood,3));\r\n        }\r\n        else if(Global.arrayfood.length == 4 && this.node.y > 100){\r\n            Global.arrayfood.push(\"Egg\");\r\n            console.log(Global.arrayfood);\r\n            this.realign();\r\n            this.node.setPosition(19,-150)\r\n            console.log(this.hasConsecutive(Global.arrayfood,3));\r\n        }\r\n        else if(Global.arrayfood.length == 5 && this.node.y > 100){\r\n            Global.arrayfood.push(\"Egg\");\r\n            console.log(Global.arrayfood);\r\n            this.realign();\r\n            this.node.setPosition(19,-100)\r\n            console.log(this.hasConsecutive(Global.arrayfood,3));\r\n        }\r\n\r\n\r\n        \r\n\r\n    },\r\n\r\n     hasConsecutive:function(arr, amount) {\r\n        var last = null;\r\n        var currentNode = this.node;\r\n        var count = 0;\r\n        for (var i = 0; i < arr.length; i++) {\r\n            if (arr[i] != last) {\r\n                last = arr[i];\r\n                count = 0;\r\n                console.log(arr[i]+\"What is arr\");\r\n                console.log(last+\"What is arr\");\r\n\r\n                console.log(\"Reset to 0 again\")\r\n                \r\n\r\n            }\r\n\r\n            console.log(\"Count Number before Add : \"+count)\r\n\r\n            count +=1;\r\n            \r\n            console.log(\"Count Number after Add : \"+count)\r\n\r\n            \r\n            if(arr[i]== last && count == 1 && Global.eggfirst == null){\r\n                \r\n                Global.eggfirst = currentNode;\r\n                console.log(Global.waterfirst+\"     checkwater1\");\r\n                console.log(Global.watersecond+\"     checkwater2\");\r\n                console.log(Global.waterthird+\"     checkwater3\");\r\n                console.log(Global.eggfirst+\"        check egg1\")\r\n                console.log(Global.eggsecond+\"        check egg2\")\r\n                console.log(Global.eggthird+\"        check egg3\")\r\n\r\n            }\r\n\r\n\r\n            if(arr[i]== last && count == 2 && Global.eggsecond == null){\r\n                \r\n                Global.eggsecond = currentNode;\r\n                console.log(Global.waterfirst+\"     checkwater1\");\r\n                console.log(Global.watersecond+\"     checkwater2\");\r\n                console.log(Global.waterthird+\"     checkwater3\");\r\n                console.log(Global.eggfirst+\"        check egg1\")\r\n                console.log(Global.eggsecond+\"        check egg2\")\r\n                console.log(Global.eggthird+\"        check egg3\")\r\n\r\n\r\n   \r\n            }\r\n            if(arr[i]== last && count == 3 && Global.eggthird == null){\r\n                Global.eggthird = currentNode;\r\n                console.log(Global.waterfirst+\"     checkwater1\");\r\n                console.log(Global.watersecond+\"     checkwater2\");\r\n                console.log(Global.waterthird+\"     checkwater3\");\r\n                console.log(Global.eggfirst+\"        check egg1\")\r\n                console.log(Global.eggsecond+\"        check egg2\")\r\n                console.log(Global.eggthird+\"        check egg3\")\r\n\r\n            }\r\n\r\n\r\n\r\n            \r\n            console.log(\"hasConsecutive orange\", amount, count);\r\n            if (amount <= count) {\r\n                Global.arrayfood.pop();\r\n                Global.arrayfood.pop();\r\n                Global.arrayfood.pop();\r\n                Global.eggfirst.destroy();\r\n                Global.eggsecond.destroy();\r\n                Global.eggthird.destroy();\r\n\r\n                Global.eggfirst = null\r\n                Global.eggsecond = null\r\n                Global.eggthird = null\r\n\r\n\r\n\r\n                console.log(\"hasConsecutive end orange\", Global.arrayfood);\r\n                return true;\r\n                \r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n \r\n\r\n\r\n\r\n    // update (dt) {},\r\n});\r\n"]}