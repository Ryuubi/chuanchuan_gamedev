{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Spear.js"],"names":["window","Global","count","reset","arrayfood","arrayNode","first","second","third","firstnode","secondnode","thirdnode","replacementcount","gameover","parentSpear","position","animation","spear","cc","Class","extends","Component","properties","jumpHeight","jumpDuration","maxMoveSpeed","accel","MedjumpHeight","MaxjumpHeight","animationEffect","default","type","Prefab","start","onLoad","enabled","xSpeed","node","director","getCollisionManager","intervalSetting","resetCount","holdMoveAt","runAction","goUp","stopMoveAt","stopAllActions","goDownAt","goDown","jumpUp","moveBy","v2","repeat","jumpDown","moveTo","anime","instantiate","setPosition","x","y","addChild","setJumpAction","easing","easeCubicActionOut","easeCubicActionIn","console","log","sequence","startMoveAt","update","dt"],"mappings":"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","file":"Spear.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nwindow.Global={\r\n    count: 0 ,\r\n    reset: 0,\r\n    arrayfood: [],\r\n    arrayNode: [],\r\n    first:null,\r\n    second:null,\r\n    third:null,\r\n    firstnode:null,\r\n    secondnode:null,\r\n    thirdnode:null,\r\n    replacementcount:0,\r\n    gameover:0,\r\n    parentSpear:null,\r\n    position:null,\r\n    animation:1, \r\n    \r\n}\r\nvar spear = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 主角跳跃高度\r\n        jumpHeight: 0,\r\n        // 主角跳跃持续时间\r\n        jumpDuration: 0,\r\n        // 最大移动速度\r\n        maxMoveSpeed: 0,\r\n        // 加速度\r\n        accel: 0,\r\n        //Medium Jump\r\n        MedjumpHeight: 200,\r\n        //Max Jump\r\n        MaxjumpHeight: 250,\r\n        animationEffect: {\r\n            default:null, \r\n            type:cc.Prefab\r\n        }\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    onLoad: function() {\r\n\r\n\r\n        this.enabled=false;\r\n        // 主角当前水平方向速度\r\n        this.xSpeed = 0;\r\n        Global.parentSpear = this.node;\r\n\r\n        //Collison\r\n        cc.director.getCollisionManager().enabled = true;\r\n\r\n\r\n    },\r\n\r\n\r\n    intervalSetting: function() {\r\n            Global.count += 1;\r\n            Global.reset = 0;\r\n            return Global.count;\r\n        \r\n    },\r\n\r\n    resetCount: function(){\r\n        Global.count = 0;\r\n        Global.reset = 1;\r\n\r\n        return Global.reset; \r\n\r\n\r\n    },\r\n\r\n    \r\n    holdMoveAt: function () {\r\n        this.enabled = true;\r\n        this.xSpeed = 0;\r\n        this.node.runAction(this.goUp());\r\n        \r\n    },\r\n\r\n        \r\n    stopMoveAt: function () {\r\n        this.enabled = true;\r\n        this.xSpeed = 0;\r\n        this.node.stopAllActions();\r\n    },\r\n\r\n    goDownAt: function () {\r\n        this.enabled = true;\r\n        this.xSpeed = 0;\r\n        this.node.runAction(this.goDown());\r\n    },\r\n\r\n    goUp: function(){\r\n\r\n        var jumpUp = cc.moveBy(0.25, cc.v2(0, this.MaxjumpHeight));\r\n        return cc.repeat(jumpUp,1);  \r\n        // return cc.repeatForever(jumpUp);\r\n\r\n    },\r\n\r\n    goDown: function(){\r\n\r\n            var jumpDown = cc.moveTo(0.1, cc.v2(21, -311));\r\n            return cc.repeat(jumpDown,1);\r\n    },\r\n\r\n\r\n    animation:function(){\r\n        var anime = cc.instantiate(this.animationEffect);\r\n        anime.setPosition(cc.v2(Global.position.x,Global.position.y));\r\n        this.node.addChild(anime);\r\n    },\r\n\r\n    setJumpAction: function () {\r\n\r\n\r\n                    // 跳跃上升\r\n        if(Global.count == 1 || Global.count == 0 || Global.count == null){\r\n            var jumpUp = cc.moveBy(this.jumpDuration, cc.v2(0, this.jumpHeight)).easing(cc.easeCubicActionOut());\r\n            // 下落\r\n            var jumpDown = cc.moveBy(this.jumpDuration, cc.v2(0, -this.jumpHeight)).easing(cc.easeCubicActionIn());\r\n            console.log(\"hello\");\r\n\r\n        }\r\n\r\n        else if(Global.count == 2){\r\n\r\n            // 跳跃上升\r\n        var jumpUp = cc.moveBy(this.jumpDuration, cc.v2(0, (this.MedjumpHeight))).easing(cc.easeCubicActionOut());\r\n        // 下落\r\n        var jumpDown = cc.moveBy(this.jumpDuration, cc.v2(0, -(this.MedjumpHeight))).easing(cc.easeCubicActionIn());\r\n        //Rotate\r\n\r\n        }\r\n        else if(Global.count == 3){\r\n\r\n        // 跳跃上升\r\n        var jumpUp = cc.moveBy(this.jumpDuration, cc.v2(0, this.MaxjumpHeight)).easing(cc.easeCubicActionOut());\r\n        // 下落\r\n        var jumpDown = cc.moveBy(this.jumpDuration, cc.v2(0, -this.MaxjumpHeight)).easing(cc.easeCubicActionIn());\r\n\r\n\r\n        }\r\n    \r\n\r\n        return cc.repeat(cc.sequence(jumpUp,jumpDown),1);\r\n    },\r\n\r\n    startMoveAt: function () {\r\n        this.enabled = true;\r\n        this.xSpeed = 0;\r\n        this.node.runAction(this.setJumpAction());\r\n    },\r\n\r\n    update (dt) {\r\n        if (Global.animation == 2){\r\n            this.animation();\r\n            Global.animation = 1; \r\n        }\r\n    },\r\n});\r\n"]}