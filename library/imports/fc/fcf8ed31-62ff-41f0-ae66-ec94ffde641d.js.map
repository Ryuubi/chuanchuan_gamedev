{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Camera.js"],"names":["camera","cc","Class","extends","Component","properties","default","type","Camera","shakeAnimation","Animation","canShake","shakeDuration","visible","shakeCamera","anim","play","scheduleOnce","stopShake","bind","stop","node","position","p","start","update","dt","Global","bombEnd"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,SAASC,GAAGC,KAAH,CAAS;AAClBC,aAASF,GAAGG,SADM;;AAGlBC,gBAAY;AACRL,gBAAO;AACHM,qBAAQ,IADL;AAEHC,kBAAKN,GAAGO;AAFL,SADC;AAKRC,wBAAe;AACXH,qBAAQ,IADG;AAEXC,kBAAKN,GAAGS;AAFG,SALP;AASRC,kBAAS,KATD;AAURC,uBAAc;AACVN,qBAAQ,CADE;AAEVO,mBAFU,qBAEA;AACN,uBAAO,KAAKF,QAAZ;AACH;AAJS;AAVN,KAHM;;AAqBlBG,eArBkB,yBAqBL;AACT;AACA,aAAKC,IAAL,CAAUC,IAAV,CAAe,OAAf;AACA,aAAKC,YAAL,CAAkB,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAlB,EAA4C,KAAKP,aAAjD;AACH,KAzBiB;AA2BlBM,aA3BkB,uBA2BP;AACP,aAAKH,IAAL,CAAUK,IAAV;AACA,aAAKpB,MAAL,CAAYqB,IAAZ,CAAiBC,QAAjB,GAA4BrB,GAAGsB,CAAH,CAAK,CAAL,EAAO,CAAP,CAA5B;AACH,KA9BiB;;;AAiClB;;AAEA;;AAEAC,SArCkB,mBAqCT,CAER,CAvCiB;AAyClBC,UAzCkB,kBAyCVC,EAzCU,EAyCN;AACR,YAAGC,OAAOC,OAAP,IAAkB,CAArB,EAAuB;AACnB,iBAAKd,WAAL;AACA,iBAAKI,SAAL;AACH;AACJ;AA9CiB,CAAT,CAAb","file":"Camera.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nvar camera = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        camera:{\r\n            default:null,\r\n            type:cc.Camera\r\n        },\r\n        shakeAnimation:{\r\n            default:null,\r\n            type:cc.Animation   \r\n        },\r\n        canShake:false,\r\n        shakeDuration:{\r\n            default:0,\r\n            visible (){\r\n                return this.canShake;\r\n            }\r\n        }\r\n    },\r\n\r\n    shakeCamera(){\r\n        // if (!this.canShake) return;\r\n        this.anim.play('shake');\r\n        this.scheduleOnce(this.stopShake.bind(this),this.shakeDuration);\r\n    },\r\n\r\n    stopShake(){\r\n        this.anim.stop();\r\n        this.camera.node.position = cc.p(0,0);\r\n    },\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n        if(Global.bombEnd == 1){\r\n            this.shakeCamera();\r\n            this.stopShake();\r\n        }\r\n    },\r\n});\r\n"]}